<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>OCR PRO ‚Äî –†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –∑ –∑–æ–±—Ä–∞–∂–µ–Ω—å</title>
    <meta name="description" content="OCR PRO ‚Äî —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –∑ –∑–æ–±—Ä–∞–∂–µ–Ω—å –∫–∏—Ä–∏–ª–∏—Ü—è / –ª–∞—Ç–∏–Ω–∏—Ü—è / –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.">

    <style>
        :root {
            --bg-dark:#0f172a;
            --bg-light:#f9fafb;
            --card-dark:#1e293b;
            --card-light:#ffffff;
            --text-dark:#f1f5f9;
            --text-light:#111827;
            --primary:#2563eb;
            --radius:14px;
            --shadow:0 6px 20px rgba(0,0,0,.2);
        }

        body {
            margin:0;
            font-family:"Segoe UI",sans-serif;
            background:var(--bg-dark);
            color:var(--text-dark);
        }
        body.light {
            background:var(--bg-light);
            color:var(--text-light);
        }

        header {
            text-align:center;
            padding:60px 20px 30px;
        }

        h1 {font-size:2.4rem}

        .container {
            max-width:900px;
            margin:auto;
            padding:20px;
        }

        .card {
            background:var(--card-dark);
            padding:25px;
            border-radius:var(--radius);
            box-shadow:var(--shadow);
        }
        body.light .card {background:var(--card-light)}

        .dropzone {
            border:2px dashed var(--primary);
            border-radius:var(--radius);
            padding:25px;
            text-align:center;
            cursor:pointer;
            margin-bottom:15px;
        }

        .dropzone.drag {
            background:rgba(37,99,235,.15);
        }

        .lang-btn {
            margin:5px;
            padding:10px 16px;
            border-radius:var(--radius);
            border:2px solid var(--primary);
            background:transparent;
            color:inherit;
            cursor:pointer;
        }

        .lang-btn.active {
            background:var(--primary);
            color:#fff;
        }

        button.main {
            margin-top:15px;
            padding:12px 24px;
            background:var(--primary);
            color:#fff;
            border:none;
            border-radius:var(--radius);
            cursor:pointer;
            box-shadow:var(--shadow);
        }

        .preview img {
            max-width:100%;
            margin-top:15px;
            border-radius:var(--radius);
        }

        .status {
            margin-top:15px;
            font-size:.95rem;
            color:#93c5fd;
            white-space:pre-line;
        }

        .result {
            margin-top:20px;
            background:rgba(0,0,0,.3);
            padding:15px;
            border-radius:var(--radius);
            min-height:120px;
            white-space:pre-wrap;
        }
        body.light .result {background:#f3f4f6}

        .theme-toggle {
            display:block;
            margin:30px auto;
        }
    </style>
</head>

<body>

<header>
    <h1>üß† OCR PRO</h1>
    <p>–ö–∏—Ä–∏–ª–∏—Ü—è ‚Ä¢ –õ–∞—Ç–∏–Ω–∏—Ü—è ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ</p>
</header>

<div class="container">
<div class="card">

    <div class="dropzone" id="dropzone">
        üìÇ –ü–µ—Ä–µ—Ç—è–≥–Ω–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∞–±–æ –∫–ª—ñ–∫–Ω–∏
        <input type="file" id="imageInput" accept="image/*" hidden>
    </div>

    <div style="text-align:center">
        <button class="lang-btn" id="auto">üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ</button>
        <button class="lang-btn" id="cyr">üá∫üá¶ –ö–∏—Ä–∏–ª–∏—Ü—è</button>
        <button class="lang-btn" id="lat">üá¨üáß –õ–∞—Ç–∏–Ω–∏—Ü—è</button>
    </div>

    <button class="main" onclick="startOCR()">–†–æ–∑–ø—ñ–∑–Ω–∞—Ç–∏ —Ç–µ–∫—Å—Ç</button>

    <div class="preview" id="preview"></div>
    <div class="status" id="status">–û—á—ñ–∫—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—É...</div>
    <div class="result" id="result">–†–µ–∑—É–ª—å—Ç–∞—Ç –∑ º—è–≤–∏—Ç—å—Å—è —Ç—É—Ç</div>

</div>

<button class="main theme-toggle" onclick="toggleTheme()">üåì –ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ–º—É</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/tesseract.js@2.1.5/dist/tesseract.min.js"></script>

<script>
let ocrLang = localStorage.getItem("ocrLang") || "uk+eng";
const buttons = { auto:"uk+eng", cyr:"uk+rus", lat:"eng" };

function setActive(id) {
    document.querySelectorAll(".lang-btn").forEach(b=>b.classList.remove("active"));
    document.getElementById(id).classList.add("active");
    ocrLang = buttons[id];
    localStorage.setItem("ocrLang", ocrLang);
}
Object.keys(buttons).forEach(id=>{
    document.getElementById(id).onclick=()=>setActive(id);
});
setActive(Object.keys(buttons).find(k=>buttons[k]===ocrLang) || "auto");

function toggleTheme(){
    document.body.classList.toggle("light");
}

const dropzone = document.getElementById("dropzone");
const input = document.getElementById("imageInput");

dropzone.onclick = ()=>input.click();

dropzone.ondragover = e => {
    e.preventDefault();
    dropzone.classList.add("drag");
};
dropzone.ondragleave = ()=>dropzone.classList.remove("drag");
dropzone.ondrop = e => {
    e.preventDefault();
    dropzone.classList.remove("drag");
    input.files = e.dataTransfer.files;
    previewImage();
};

input.onchange = previewImage;

function previewImage(){
    const file = input.files[0];
    if(!file) return;
    const reader = new FileReader();
    reader.onload = ()=> {
        document.getElementById("preview").innerHTML = `<img src="${reader.result}">`;
    };
    reader.readAsDataURL(file);
}

function startOCR(){
    const file = input.files[0];
    if(!file){ alert("–§–∞–π–ª –Ω–µ –≤–∏–±—Ä–∞–Ω–æ"); return; }

    const status = document.getElementById("status");
    const result = document.getElementById("result");

    result.textContent="";
    status.textContent="–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è OCR...";

    Tesseract.recognize(
        file,
        ocrLang,
        { logger:m=>{
            if(m.progress){
                status.textContent=`${m.status}\n${Math.round(m.progress*100)}%`;
            }
        }}
    ).then(({data})=>{
        result.textContent = data.text || "–¢–µ–∫—Å—Ç –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ";
        status.textContent="–ì–æ—Ç–æ–≤–æ ‚úÖ";
    }).catch(err=>{
        console.error(err);
        status.textContent="–ü–æ–º–∏–ª–∫–∞ OCR ‚ùå";
    });
}
</script>

</body>
</html>
